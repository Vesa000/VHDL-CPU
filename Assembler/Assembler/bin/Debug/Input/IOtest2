	
	LDV	0	1		// LED0R
	LDV	0	2		// LED0G
	LDV	0	3		// LED0B
	
	LDV	0	4		// LED1R
	LDV	0	5		// LED1G
	LDV	0	6		// LED1B

	LDV	0	7		// LED2R
	LDV	0	8		// LED2G
	LDV	0	9		// LED2B

	LDV	0	10		// LED3R
	LDV	0	11		// LED3G
	LDV	0	12		// LED3B


	LDV	0	13		// I
	LDV	0	14		// J
	LDV	0	15		// K

	LDV	0	16		// Rspeed
	LDV	0	17		// Gspeed
	LDV	0	18		// Bspeed


READINPUTS:
	LDR	65539	13		// Read switches
	LDR	65538	14		// Read buttons

	NOP
	NOP
	NOP
	NOP
	NOP

	STR	14	65540		// Output switches to leds
	BRA	SETSPEED

	LDV	1	15
	CMP	14	15

	NOP
	NOP
	NOP
	NOP
	NOP

EQ	BRA	CHANGE0

	LDV	2	15
	CMP	14	15

	NOP
	NOP
	NOP
	NOP
	NOP

EQ	BRA	CHANGE1

	LDV	4	15
	CMP	14	15

	NOP
	NOP
	NOP
	NOP
	NOP

EQ	BRA	CHANGE2

	LDV	8	15
	CMP	14	15

	NOP
	NOP
	NOP
	NOP
	NOP

EQ	BRA	CHANGE3


	BRA	PRINT
	BRA	CONSTRAIN
	LDV	0	13
	LDV	1000	14
	LDV	1	15
	BRA	DELAY
	JMP	READINPUTS

SETSPEED:
	LDV	0	16
	LDV	0	17
	LDV	0	18

	LDV	1	15
	CMP	13	15

	NOP
	NOP
	NOP
	NOP
	NOP

EQ	LDV	1	16

	LDV	2	15
	CMP	13	15

	NOP
	NOP
	NOP
	NOP
	NOP

EQ	LDV	1	17

	LDV	4	15
	CMP	13	15

	NOP
	NOP
	NOP
	NOP
	NOP

EQ	LDV	1	18
	RET


CHANGE0:
	ADD	1	16	1
	ADD	2	17	2
	ADD	3	18	3
	RET

CHANGE1:
	ADD	4	16	4
	ADD	5	17	5
	ADD	6	18	6
	RET

CHANGE2:
	ADD	7	16	7
	ADD	8	17	8
	ADD	9	18	9
	RET

CHANGE3:
	ADD	10	16	10
	ADD	11	17	11
	ADD	12	18	12
	RET

	
PRINT:
	STR	1	65541
	STR	2	65542
	STR	3	65543
	STR	4	65544
	STR	5	65545
	STR	6	65546
	STR	7	65547
	STR	8	65548
	STR	9	65549
	STR	10	65550
	STR	11	65551
	STR	12	65552
	RET

CONSTRAIN:
	LDV	65536	13

	CMP	1	13

	NOP
	NOP
	NOP
	NOP
	NOP

GT	LDV	0	1

	CMP	2	13

	NOP
	NOP
	NOP
	NOP
	NOP

GT	LDV	0	2

	CMP	3	13

	NOP
	NOP
	NOP
	NOP
	NOP

GT	LDV	0	3

	CMP	4	13

	NOP
	NOP
	NOP
	NOP
	NOP

GT	LDV	0	4

	CMP	5	13

	NOP
	NOP
	NOP
	NOP
	NOP

GT	LDV	0	5

	CMP	6	13

	NOP
	NOP
	NOP
	NOP
	NOP

GT	LDV	0	6

	CMP	7	13

	NOP
	NOP
	NOP
	NOP
	NOP

GT	LDV	0	7

	CMP	8	13

	NOP
	NOP
	NOP
	NOP
	NOP

GT	LDV	0	8

	CMP	9	13

	NOP
	NOP
	NOP
	NOP
	NOP

GT	LDV	0	9

	CMP	10	13

	NOP
	NOP
	NOP
	NOP
	NOP

GT	LDV	0	10

	CMP	11	13

	NOP
	NOP
	NOP
	NOP
	NOP

GT	LDV	0	11

	CMP	12	13

	NOP
	NOP
	NOP
	NOP
	NOP

GT	LDV	0	12
	
	RET


DELAY:
	ADD	15	13	13	//R13 += 1
	CMP	13	14

	NOP
	NOP
	NOP
	NOP
	NOP

LT	JMP	DELAY
	RET